"use strict";(self.webpackChunkdmf_config=self.webpackChunkdmf_config||[]).push([[996],{1996:(o,n,e)=>{e.r(n);var t={};e.r(t),e.d(t,{addTodo:()=>C,doNothing:()=>D,loadTodosAsync:()=>y,removeTodo:()=>E,saveTodosAsync:()=>R});var r={};e.r(r),e.d(r,{configLoadTodosEpic:()=>Q,configSaveTodosEpic:()=>Y});var c={};e.r(c),e.d(c,{configUserSaveTodosEpic:()=>B});var i={};e.r(i),e.d(i,{default:()=>to});var u={};e.r(u),e.d(u,{loadSnapshot:()=>co,saveSnapshot:()=>io});var s=e(2950),l=e.n(s),d=e(2181),a=e.n(d),f=e(8147),p=e(1936),g=e.n(p),v=e(7784),O=e.n(v),m=e(1730),h=e.n(m),A=e(7149),T=e.n(A),Z=e(6610),_=function(o){return o.configTodos},S=e(5737),C=(0,S.createAction)("CONFIG_ADD_TODO",(function(o){return{id:Math.ceil(999999*Math.random()).toString(),title:o}}))(),E=(0,S.createAction)("CONFIG_REMOVE_TODO")(),y=(0,S.createAsyncAction)("CONFIG_LOAD_TODOS_REQUEST","CONFIG_LOAD_TODOS_SUCCESS","CONFIG_LOAD_TODOS_FAILURE")(),R=(0,S.createAsyncAction)("CONFIG_SAVE_TODOS_REQUEST","CONFIG_SAVE_TODOS_SUCCESS","CONFIG_SAVE_TODOS_FAILURE")(),D=(0,S.createAction)("DO_NO_THING")(),F=e(9476);const I=function(o){var n=o.title,e=o.onRemoveClick;return(0,F.tZ)("div",null,n,(0,F.tZ)("div",{onClick:e},"X"))};var L={removeTodo:E};const N=(0,f.connect)((function(o){return{isLoading:o.config.todoModule.isConfigLoading,todos:_(o.config.todoModule),userTodos:o.user.todo.todos}}),L)((function(o){var n=o.isLoading,e=o.todos,t=void 0===e?[]:e,r=o.userTodos,c=o.removeTodo;return n?(0,F.tZ)("p",null,"Loading..."):(0,F.tZ)(s.Fragment,null,(0,F.tZ)("h4",null,"TodoList from Config Module"),(0,F.tZ)("ul",null,t.map((function(o){return(0,F.tZ)("li",{key:o.id},(0,F.tZ)(I,{title:o.title,onRemoveClick:function(){return c(o.id)}}))}))),(0,F.tZ)("h4",null,"Todo from User Microfront End App"),(0,F.tZ)("ul",null,r.map((function(o){return(0,F.tZ)("li",{key:o.id},(0,F.tZ)(I,{title:o.title,onRemoveClick:function(){return c(o.id)}}))}))))}));var U=function(){return(0,F.tZ)(l().Fragment,null,(0,F.tZ)(g(),{header:(0,F.tZ)(O(),null),footer:(0,F.tZ)(h(),null),className:"u-demo"},(0,F.tZ)("div",null,(0,F.tZ)(T(),null,"Config App"),(0,F.tZ)(Z.TodosView,null),(0,F.tZ)("hr",null),(0,F.tZ)(N,null))))},b=e(8188),k=e(1586),w=e(5648),M=b.compose,G=e(1599),V=(G.routerActions,e(18)),q=e(326),P=e(4975),X=e(4978),j=e(9127),K=e(9878),Q=function(o,n,e){var t=e.config;return o.pipe((0,P.h)((0,S.isActionOf)(y.request)),(0,X.w)((function(){return(0,q.from)(t.api.todos.loadSnapshot()).pipe((0,j.U)(y.success),(0,K.K)((function(o){return(0,q.of)(y.failure(o))})))})))},Y=function(o,n,e){var t=e.config;return o.pipe((0,P.h)((0,S.isActionOf)(R.request)),(0,X.w)((function(){return console.log(n.value,t),t.logger.default.log(n),(0,q.from)(t.api.todos.saveSnapshot(_(n.value.user.todo))).pipe((0,j.U)(R.success),(0,K.K)((function(o){return(0,q.of)(R.failure(o))})))})))},B=function(o,n,e){return o.pipe((0,P.h)((0,S.isActionOf)(Z.actions.saveTodosAsync.success)),(0,q.tap)((function(){console.log(o,n.value,e),console.log("Do something here")})),(0,j.U)((function(){return D()})))},H=Object.values(r),x=Object.values(c);H.push.apply(H,(0,V.Z)(x));var z=(0,S.createReducer)(!1).handleAction([y.request],(function(o,n){return!0})).handleAction([y.success,y.failure],(function(o,n){return!1})),J=(0,S.createReducer)([{id:"0",title:"You can add new todos using the form or load saved snapshot..."}]).handleAction(y.success,(function(o,n){return n.payload})).handleAction(C,(function(o,n){return[].concat((0,V.Z)(o),[n.payload])})).handleAction(E,(function(o,n){return o.filter((function(o){return o.id!==n.payload}))}));const W=(0,b.combineReducers)({isConfigLoading:z,configTodos:J});var $=(0,b.combineReducers)({todoModule:W}),oo=e(2625);console.log(oo),(0,b.combineReducers)({router:(0,G.connectRouter)((0,w.lX)()),user:oo.reducer.userReducer,config:$});var no=(0,V.Z)(H);no.push.apply(no,(0,V.Z)(oo.epic.userEpic)),console.log(no,oo.epic.userEpic);const eo=k.combineEpics.apply(void 0,(0,V.Z)(no)),to={log:console.log};var ro=[{id:"0",title:"Yo, your snapshot has been loaded successfully!"}];function co(){return new Promise((function(o,n){setTimeout((function(){o(ro)}),500)}))}function io(o){return new Promise((function(n,e){setTimeout((function(){ro=o,n(void 0)}),500)}))}const uo={user:{logger:i,api:{todos:u}}};var so,lo=(0,k.createEpicMiddleware)({dependencies:uo}),ao=(0,w.lX)(),fo=[lo],po=M(b.applyMiddleware.apply(void 0,fo)),go=(0,b.createStore)((so=ao,(0,b.combineReducers)({router:(0,G.connectRouter)(so),user:oo.reducer.userReducer,config:$})),{},po);console.log(go),lo.run(eo);const vo=go;console.log(vo),a().render((0,F.tZ)((function(){return(0,F.tZ)(l().Fragment,null,(0,F.tZ)(f.Provider,{store:vo},(0,F.tZ)(U,null)))}),null),document.getElementById("root"))}}]);