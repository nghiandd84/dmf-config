"use strict";(self.webpackChunkdmf_config=self.webpackChunkdmf_config||[]).push([[970],{18:(o,n,e)=>{function r(o,n){(null==n||n>o.length)&&(n=o.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=o[e];return r}function t(o){return function(o){if(Array.isArray(o))return r(o)}(o)||function(o){if("undefined"!=typeof Symbol&&null!=o[Symbol.iterator]||null!=o["@@iterator"])return Array.from(o)}(o)||function(o,n){if(o){if("string"==typeof o)return r(o,n);var e=Object.prototype.toString.call(o).slice(8,-1);return"Object"===e&&o.constructor&&(e=o.constructor.name),"Map"===e||"Set"===e?Array.from(o):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(o,n):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.d(n,{Z:()=>t})},1756:(o,n,e)=>{e.r(n),e.d(n,{addTodo:()=>t,removeTodo:()=>c,loadTodosAsync:()=>i,saveTodosAsync:()=>u,doNothing:()=>s});var r=e(5737),t=(0,r.createAction)("CONFIG_ADD_TODO",(function(o){return{id:Math.ceil(999999*Math.random()).toString(),title:o}}))(),c=(0,r.createAction)("CONFIG_REMOVE_TODO")(),i=(0,r.createAsyncAction)("CONFIG_LOAD_TODOS_REQUEST","CONFIG_LOAD_TODOS_SUCCESS","CONFIG_LOAD_TODOS_FAILURE")(),u=(0,r.createAsyncAction)("CONFIG_SAVE_TODOS_REQUEST","CONFIG_SAVE_TODOS_SUCCESS","CONFIG_SAVE_TODOS_FAILURE")(),s=(0,r.createAction)("DO_NO_THING")()},9288:(o,n,e)=>{e.r(n),e.d(n,{configLoadTodosEpic:()=>f,configSaveTodosEpic:()=>l});var r=e(326),t=e(4975),c=e(4978),i=e(9127),u=e(9878),s=e(5737),a=e(1756),d=e(7407),f=function(o,n,e){var d=e.config;return o.pipe((0,t.h)((0,s.isActionOf)(a.loadTodosAsync.request)),(0,c.w)((function(){return(0,r.from)(d.api.todos.loadSnapshot()).pipe((0,i.U)(a.loadTodosAsync.success),(0,u.K)((function(o){return(0,r.of)(a.loadTodosAsync.failure(o))})))})))},l=function(o,n,e){var f=e.config;return o.pipe((0,t.h)((0,s.isActionOf)(a.saveTodosAsync.request)),(0,c.w)((function(){return console.log(n.value,f),f.logger.default.log(n),(0,r.from)(f.api.todos.saveSnapshot((0,d.L)(n.value.user.todo))).pipe((0,i.U)(a.saveTodosAsync.success),(0,u.K)((function(o){return(0,r.of)(a.saveTodosAsync.failure(o))})))})))}},6503:(o,n,e)=>{e.d(n,{ZP:()=>a});var r=e(18),t=e(8188),c=e(5737),i=e(1756),u=(0,c.createReducer)(!1).handleAction([i.loadTodosAsync.request],(function(o,n){return!0})).handleAction([i.loadTodosAsync.success,i.loadTodosAsync.failure],(function(o,n){return!1})),s=(0,c.createReducer)([{id:"0",title:"You can add new todos using the form or load saved snapshot..."}]).handleAction(i.loadTodosAsync.success,(function(o,n){return n.payload})).handleAction(i.addTodo,(function(o,n){return[].concat((0,r.Z)(o),[n.payload])})).handleAction(i.removeTodo,(function(o,n){return o.filter((function(o){return o.id!==n.payload}))}));const a=(0,t.combineReducers)({isConfigLoading:u,configTodos:s})},7407:(o,n,e)=>{e.d(n,{L:()=>r});var r=function(o){return o.configTodos}},7478:(o,n,e)=>{e.r(n),e.d(n,{configAction:()=>t});var r=e(1756),t={router:e(1599).routerActions,config:{todo:r}}},6106:(o,n,e)=>{e.r(n),e.d(n,{configEpic:()=>i});var r=e(18),t=e(9288),c=e(9272),i=Object.values(t),u=Object.values(c);i.push.apply(i,(0,r.Z)(u))},9970:(o,n,e)=>{e.r(n),e.d(n,{actions:()=>r,epic:()=>t,reducer:()=>c});var r=e(7478),t=e(6106),c=e(9231)},9272:(o,n,e)=>{e.r(n),e.d(n,{configUserSaveTodosEpic:()=>a});var r=e(326),t=e(4975),c=e(9127),i=e(5737),u=e(6610),s=e(1756),a=function(o,n,e){return o.pipe((0,t.h)((0,i.isActionOf)(u.actions.saveTodosAsync.success)),(0,r.tap)((function(){console.log(o,n.value,e),console.log("Do something here")})),(0,c.U)((function(){return(0,s.doNothing)()})))}},9231:(o,n,e)=>{e.r(n),e.d(n,{configReducer:()=>c});var r=e(8188),t=e(6503),c=(0,r.combineReducers)({todoModule:t.ZP})},9878:(o,n,e)=>{e.d(n,{K:()=>i});var r=e(7878),t=e(2566),c=e(6798);function i(o){return(0,c.e)((function(n,e){var c,u=null,s=!1;u=n.subscribe(new t.Q(e,void 0,void 0,(function(t){c=(0,r.Xf)(o(t,i(o)(n))),u?(u.unsubscribe(),u=null,c.subscribe(e)):s=!0}))),s&&(u.unsubscribe(),u=null,c.subscribe(e))}))}},4978:(o,n,e)=>{e.d(n,{w:()=>i});var r=e(7878),t=e(6798),c=e(2566);function i(o,n){return(0,t.e)((function(e,t){var i=null,u=0,s=!1,a=function(){return s&&!i&&t.complete()};e.subscribe(new c.Q(t,(function(e){null==i||i.unsubscribe();var s=0,d=u++;(0,r.Xf)(o(e,d)).subscribe(i=new c.Q(t,(function(o){return t.next(n?n(e,o,d,s++):o)}),(function(){i=null,a()})))}),(function(){s=!0,a()})))}))}}}]);